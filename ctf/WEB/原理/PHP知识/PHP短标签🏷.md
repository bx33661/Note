# PHP短标签🏷

PHP 短标签是一种简化的 PHP 代码书写方式，它允许开发者使用更短的标签来标记 PHP 代码块的开始和结束。虽然使用起来更简洁，但也存在一些需要注意的地方。下面我来详细讲解一下 PHP 短标签。

**PHP 的四种标签风格**

1. **标准风格（XML 风格）：** `<?php ... ?>` 这是最常用和推荐的风格，兼容性最好。
2. **短风格：** `<? ... ?>` 需要在 `php.ini` 文件中开启 `short_open_tag = On` 才能使用。
3. **ASP 风格：** `<% ... %>` 需要在 `php.ini` 文件中开启 `asp_tags = On` 才能使用。
4. **`<script>` 风格：** `<script language="php"> ... </script>` 这种风格不太常用。

**什么是 PHP 短标签？**

PHP 短标签指的就是第二种风格 `<? ... ?>`。当 `php.ini` 文件中的 `short_open_tag` 指令设置为 `On` 时，PHP 就能识别并解析这种短标签。

**短标签的优点：**

- **简洁：** 相比标准风格，短标签书写起来更简洁，可以减少代码量。

**短标签的缺点：**

- **兼容性问题：** 并非所有服务器都默认开启 `short_open_tag`，这可能导致代码在不同环境下表现不一致。因此，如果你的代码需要在不同的服务器上部署，或者你发布的是开源代码，强烈建议使用标准风格的标签。
- **与 XML 冲突：** 如果你的 PHP 代码需要嵌入到 XML 文档中，短标签可能会与 XML 的标签冲突。

**`<?= ... ?>` 简写形式**

除了 `<? ... ?>` 这种形式的短标签外，

PHP 还提供了一种特殊的简写形式：`<?= ... ?>`。这个标签等同于 `<?php echo ... ?>`，用于快速输出内容。从 PHP 5.4.0 开始，无论 `short_open_tag` 的设置如何，`<?= ... ?>` 始终可用。因此，推荐使用 `<?= ... ?>` 来进行输出，因为它既简洁又具有良好的兼容性。

```php
<?=`whoami`?>
--->输出
```



**如何开启短标签？**

如果你确实需要使用 `<? ... ?>` 这种形式的短标签，你需要修改 `php.ini` 文件。

1. 找到 `php.ini` 文件。这个文件的位置取决于你的 PHP 安装方式。
2. 搜索 `short_open_tag`。
3. 将其值修改为 `On`。
4. 保存 `php.ini` 文件并重启 Web 服务器。







## `<?= ?>`

`<?= ... ?>` 是 PHP 中一种特殊的短标签，用于快速输出内容。它等同于 `<?php echo ... ?>`，可以简化代码的书写，尤其是在需要输出变量或表达式的值时非常方便。

**详细解释：**

- **`<?= ... ?>` 的作用：** 这个标签会将 `...` 部分的内容作为字符串输出到浏览器或客户端。`...` 部分可以是任何有效的 PHP 表达式，包括变量、字符串、函数调用、算术运算等。
- **等价形式：** `<?= $variable; ?>` 完全等同于 `<?php echo $variable; ?>`。
- **从 PHP 5.4.0 开始的特性：** 从 PHP 5.4.0 开始，`<?= ... ?>` 始终可用，无论 `php.ini` 文件中的 `short_open_tag` 指令是否设置为 `On`。这意味着即使服务器禁用了短标签 `<? ... ?>`，`<?= ... ?>` 仍然可以正常工作。
- **推荐用法：** 由于其简洁性和良好的兼容性，`<?= ... ?>` 被广泛推荐用于输出内容。

**使用示例：**

1. **输出变量：**

   ```php
   <?php
   $name = "张三";
   ?>
   
   <p>你好，<?= $name ?>！</p>
   ```

   这段代码会输出：

   ```
   你好，张三！
   ```

2. **输出表达式：**

   ```php
   <p>10 加 20 等于 <?= 10 + 20 ?>。</p>
   ```

   这段代码会输出：

   ```
   10 加 20 等于 30。
   ```

3. **输出函数调用结果：**

   ```
   <p>当前时间是：<?= date('Y-m-d H:i:s') ?></p>
   ```

   这段代码会输出当前的日期和时间。

4. **在 HTML 属性中使用：**

   ```
   <img src="images/<?= $imageName ?>" alt="<?= $imageAlt ?>" />
   ```

   这种用法在动态生成 HTML 时非常有用。

**与短标签 `<? ... ?>` 的区别：**

- `<? ... ?>` 是一种通用的短标签，用于标记 PHP 代码块的开始和结束。它需要 `php.ini` 文件中的 `short_open_tag` 指令设置为 `On` 才能使用。
- `<?= ... ?>` 是一种特殊的短标签，专门用于输出内容。它从 PHP 5.4.0 开始始终可用，不受 `short_open_tag` 设置的影响。

**总结：**

`<?= ... ?>` 提供了一种简洁、方便且兼容性良好的方式来输出内容。在编写 PHP 代码时，尤其是需要输出变量或表达式的值时，推荐使用 `<?= ... ?>`。它比 `<?php echo ... ?>` 更简洁，并且比需要依赖 `short_open_tag` 设置的 `<? ... ?>` 更可靠。