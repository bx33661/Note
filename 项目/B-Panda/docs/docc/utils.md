## `utils` åŒ…

`utils` æ–‡ä»¶å¤¹åŒ…å«äº†ä¸€äº›å¸¸ç”¨çš„å·¥å…·å‡½æ•°æ¨¡å—ï¼Œå¸®åŠ©å®ç°é¡¹ç›®çš„æ ¸å¿ƒåŠŸèƒ½ã€‚è¿™äº›å·¥å…·å‡½æ•°è¢«åˆ†ä¸ºå¤šä¸ªæ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶ä¸“æ³¨äºå¤„ç†ç‰¹å®šçš„ä¸šåŠ¡é€»è¾‘ã€‚ä¸ºäº†ä¾¿äºç®¡ç†ï¼Œæ‰€æœ‰çš„å·¥å…·æ¨¡å—åœ¨ `__init__.py` ä¸­è¿›è¡Œäº†ç»Ÿä¸€å¯¼å…¥ã€‚

```txt
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ pdf_utils.py
â”‚   â”œâ”€â”€ email_utils.py
â”‚   â”œâ”€â”€ find_utils.py
â”‚   â””â”€â”€ bs_utils.py
```

### `__init__.py`

è¯¥æ–‡ä»¶ç”¨äºå°†æ‰€æœ‰å·¥å…·æ¨¡å—ç»Ÿä¸€å¯¼å…¥ï¼Œä½¿å¾—åœ¨å…¶ä»–åœ°æ–¹å¯¼å…¥ `utils` æ—¶ï¼Œå¯ä»¥ç›´æ¥è®¿é—®æ‰€æœ‰çš„å·¥å…·å‡½æ•°ã€‚

```python
from .pdf_utils import *
from .email_utils import *
from .find_utils import *
from .bs_utils import *
```

### ç¤ºä¾‹ï¼š`bs_utils.py`ï¼ˆBase64 ç¼–ç å’Œè§£ç ï¼‰

æˆ‘ä»¬ä»¥ `bs_utils.py` ä¸ºä¾‹ï¼Œæ¥çœ‹ä¸€ä¸‹å¦‚ä½•å®ç° Base64 ç¼–ç å’Œè§£ç çš„å·¥å…·å‡½æ•°ã€‚è¿™ä¸ªæ¨¡å—åŒ…æ‹¬äº†ä¸¤ä¸ªå‡½æ•°ï¼š`encode_base64` å’Œ `decode_base64`ï¼Œåˆ†åˆ«ç”¨äºå°†å­—ç¬¦ä¸²ç¼–ç ä¸º Base64 å’Œå°† Base64 å­—ç¬¦ä¸²è§£ç ä¸ºåŸå§‹å­—ç¬¦ä¸²ã€‚

#### 1. **`encode_base64` å‡½æ•°**

```python
import base64

def encode_base64(input_string):
    """
    å°†å­—ç¬¦ä¸²ç¼–ç ä¸º Base64
    :param input_string: éœ€è¦ç¼–ç çš„å­—ç¬¦ä¸²
    :return: Base64 ç¼–ç åçš„å­—ç¬¦ä¸²
    """
    try:
        # å°†å­—ç¬¦ä¸²ç¼–ç ä¸ºå­—èŠ‚
        byte_data = input_string.encode('utf-8')
        # ä½¿ç”¨ base64 ç¼–ç 
        base64_bytes = base64.b64encode(byte_data)
        # å°†å­—èŠ‚è½¬æ¢å›å­—ç¬¦ä¸²
        base64_string = base64_bytes.decode('utf-8')
        return base64_string
    except Exception as e:
        return f"ç¼–ç é”™è¯¯: {str(e)}"
```

- **åŠŸèƒ½**: è¯¥å‡½æ•°å°†è¾“å…¥çš„å­—ç¬¦ä¸² `input_string` ç¼–ç ä¸º Base64 æ ¼å¼ã€‚

- å®ç°æ­¥éª¤

  :

  1. é¦–å…ˆå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—èŠ‚ã€‚
  2. ç„¶åä½¿ç”¨ `base64.b64encode` å¯¹å­—èŠ‚æ•°æ®è¿›è¡Œç¼–ç ã€‚
  3. æœ€åï¼Œå°†ç¼–ç åçš„å­—èŠ‚æ•°æ®è§£ç ä¸ºå­—ç¬¦ä¸²å¹¶è¿”å›ã€‚

- **å¼‚å¸¸å¤„ç†**: å¦‚æœç¼–ç è¿‡ç¨‹ä¸­å‡ºç°ä»»ä½•é”™è¯¯ï¼Œä¼šæ•è·å¹¶è¿”å›é”™è¯¯ä¿¡æ¯ã€‚

#### 2. **`decode_base64` å‡½æ•°**

```python
def decode_base64(base64_string):
    """
    å°† Base64 å­—ç¬¦ä¸²è§£ç ä¸ºåŸå§‹å­—ç¬¦ä¸²
    :param base64_string: Base64 ç¼–ç çš„å­—ç¬¦ä¸²
    :return: è§£ç åçš„åŸå§‹å­—ç¬¦ä¸²
    """
    try:
        # å°† Base64 å­—ç¬¦ä¸²ç¼–ç ä¸ºå­—èŠ‚
        base64_bytes = base64_string.encode('utf-8')
        # ä½¿ç”¨ base64 è§£ç 
        byte_data = base64.b64decode(base64_bytes)
        # å°†å­—èŠ‚è½¬æ¢å›å­—ç¬¦ä¸²
        decoded_string = byte_data.decode('utf-8')
        return decoded_string
    except Exception as e:
        return f"è§£ç é”™è¯¯: {str(e)}"
```

- **åŠŸèƒ½**: è¯¥å‡½æ•°å°† Base64 ç¼–ç çš„å­—ç¬¦ä¸² `base64_string` è§£ç å›åŸå§‹å­—ç¬¦ä¸²ã€‚
- å®ç°æ­¥éª¤:
  1. å°† Base64 å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—èŠ‚ã€‚
  2. ä½¿ç”¨ `base64.b64decode` å¯¹å­—èŠ‚æ•°æ®è¿›è¡Œè§£ç ã€‚
  3. æœ€åï¼Œå°†è§£ç åçš„å­—èŠ‚æ•°æ®è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶è¿”å›ã€‚
- **å¼‚å¸¸å¤„ç†**: å¦‚æœè§£ç è¿‡ç¨‹ä¸­å‡ºç°ä»»ä½•é”™è¯¯ï¼ŒåŒæ ·ä¼šæ•è·å¹¶è¿”å›é”™è¯¯ä¿¡æ¯ã€‚

### ä»£ç ä¸­çš„é”™è¯¯å¤„ç† ğŸ› ï¸

åœ¨è¿™ä¸¤ä¸ªå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬éƒ½ä½¿ç”¨äº† `try-except` è¯­å¥æ¥æ•è·å¯èƒ½çš„å¼‚å¸¸ã€‚è¿™ç¡®ä¿äº†å‡½æ•°åœ¨é‡åˆ°é”™è¯¯æ—¶ä¸ä¼šå´©æºƒï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªåŒ…å«é”™è¯¯ä¿¡æ¯çš„å­—ç¬¦ä¸²ï¼š

- **ç¼–ç é”™è¯¯**: å¦‚æœè¾“å…¥çš„æ•°æ®æ— æ³•æ­£ç¡®ç¼–ç ä¸º Base64ï¼Œå°†è¿”å› `ç¼–ç é”™è¯¯: <é”™è¯¯ä¿¡æ¯>`ã€‚
- **è§£ç é”™è¯¯**: å¦‚æœè¾“å…¥çš„ Base64 å­—ç¬¦ä¸²æ— æ•ˆï¼Œæ— æ³•æ­£ç¡®è§£ç ï¼Œåˆ™è¿”å› `è§£ç é”™è¯¯: <é”™è¯¯ä¿¡æ¯>`ã€‚

### æ€»ç»“ ğŸ¯

- å·¥å…·å‡½æ•°ï¼š

  ```
  bs_utils.py
  ```

   ä¸­æä¾›äº†ä¸¤ä¸ªæ ¸å¿ƒåŠŸèƒ½ï¼š

  - `encode_base64`ï¼šå°†å­—ç¬¦ä¸²è½¬æ¢ä¸º Base64 ç¼–ç ã€‚
  - `decode_base64`ï¼šå°† Base64 å­—ç¬¦ä¸²è§£ç å›åŸå§‹å­—ç¬¦ä¸²ã€‚

- **å¼‚å¸¸å¤„ç†**ï¼šé€šè¿‡ `try-except` æ•è·ç¼–ç æˆ–è§£ç è¿‡ç¨‹ä¸­å¯èƒ½å‡ºç°çš„é”™è¯¯ï¼Œç¡®ä¿å‡½æ•°çš„ç¨³å®šæ€§ã€‚

- **é€šç”¨æ€§**ï¼šè¿™ä¸¤ä¸ªå‡½æ•°å¯ä»¥å¹¿æ³›ç”¨äºéœ€è¦ Base64 ç¼–ç æˆ–è§£ç çš„åœºæ™¯ï¼Œä¾‹å¦‚æ–‡ä»¶ä¸Šä¼ ã€å›¾ç‰‡å¤„ç†ã€æ•°æ®ä¼ è¾“ç­‰ã€‚

